<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Polychain F1 — Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Libre+Baskerville&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <style>
    :root{
      --ink:#111; --rule:#e6e6e6;
      --heading-font:"Playfair Display", Georgia, "Times New Roman", serif;
      --body-font:"Libre Baskerville", Georgia, "Times New Roman", serif;
      --tab:#111; --tabOff:#888; --tabBg:#fff;
    }
    html,body{
      margin:0; padding:0; background:#fff; color:var(--ink);
      font-family:var(--body-font); font-size:16px; line-height:1.5;
    }
    .page{max-width:1100px; margin:28px auto; padding:28px; border:4px solid #000; box-sizing:border-box;}

    /* Header */
    .hero{
      display:flex; flex-direction:column; align-items:center; gap:10px;
      margin-bottom:18px; border-bottom:1px solid var(--rule); padding-bottom:18px;
    }
    .hero img{width:120px; height:120px; object-fit:contain;}
    .hero h1{
      font-family:var(--heading-font);
      font-size:44px; line-height:1.1; margin:0; text-align:center; letter-spacing:-0.5px;
    }
    /* Align the “1” in F1 with the F cap height */
    .f1{ display:inline-flex; align-items:flex-end; }
    .f1 .f{ font-size:1em; line-height:1; }
    .f1 .one{
      font-variant-numeric: lining-nums tabular-nums;
      display:inline-block; font-size:1.08em; line-height:1; position:relative; top:1px;
    }

    /* Tabs */
    .tabs{
      display:flex; gap:10px; flex-wrap:wrap; margin:14px 0 18px;
      border-bottom:1px solid var(--rule); padding-bottom:10px;
      justify-content:center;         /* centered */
    }
    .tabs a{
      text-decoration:none; color:var(--tabOff); background:var(--tabBg);
      border:1px solid var(--tabOff); padding:6px 12px; border-radius:18px;
      font:600 13px/1 var(--body-font);
    }
    .tabs a.active{color:#fff; background:var(--tab); border-color:var(--tab);}

    /* Section headings + canvases */
    h2{
      font-family:var(--heading-font);
      font-size:22px;            /* larger */
      font-weight:700;
      text-align:center;
      margin:22px 0 8px;
    }
    canvas{max-width:100%; height:420px; margin:0 auto 30px; display:block; background:#fff;}

    /* Range toolbar (centered under titles) */
    .toolbar{
      display:flex; justify-content:center; gap:10px; margin:8px 0 16px;
    }
    .toolbar button{
      appearance:none; border:1px solid #111; background:#fff; color:#111;
      padding:6px 10px; border-radius:18px; font:600 13px/1 var(--body-font); cursor:pointer;
    }
    .toolbar button.on{background:#111; color:#fff;}

    /* Chart + stats layout */
    .chart-row{
      display:grid;
      grid-template-columns: 1fr 280px;
      gap:24px;
      align-items:start;
      margin: 18px 0 36px;
    }
    @media (max-width: 1000px){
      .chart-row{ grid-template-columns: 1fr; }
    }
    .statbox{
      border:1px solid var(--rule);
      border-radius:12px;
      padding:12px;
      background:#fff;
      min-height:120px;
    }
    /* Minimal styles for the dynamic cards inserted by script.js */
    .stat-card + .stat-card { margin-top:10px; }
    .stat-title { font-weight:700; margin-bottom:6px; }
    .stat-row { display:flex; justify-content:space-between; padding:3px 0; }
    .stat-row strong.pos { color:#0a7a3c; }
    .stat-row strong.neg { color:#b21c1c; }

    /* (Unused now, but kept if you later swap to table layout) */
    .statbox h3{ margin:0 0 8px; font-family: var(--heading-font); font-size:16px; text-align:left; }
    .statbox table{ width:100%; border-collapse:collapse; font-size:14px; }
    .statbox th, .statbox td{ padding:6px 6px; border-bottom:1px solid #f0f0f0; text-align:right; }
    .statbox th:first-child, .statbox td:first-child{ text-align:left; }
    .badge-up{ color:#0a7a3c; font-weight:600; }
    .badge-down{ color:#b21c1c; font-weight:600; }
    .muted{ color:#777; font-size:12px; }

    /* Tab panes */
    .tabpane{display:none;}
    .tabpane.active{display:block;}
  </style>
</head>
<body>
  <div class="page">
    <!-- Logo + title -->
    <div class="hero">
      <img src="assets/polychain-logo.gif" alt="Polychain logo" />
      <h1>Polychain <span class="f1"><span class="f">F</span><span class="one">1</span></span> Dashboard</h1>
    </div>

    <!-- Tabs -->
    <nav class="tabs" id="tabs">
      <a href="#pump" class="active">PUMP</a>
      <a href="#dats">DATs</a>
      <a href="#hype">HYPE</a>
      <a href="#risk">Risk</a>
    </nav>

    <!-- Pump tab -->
    <section id="pane-pump" class="tabpane active">
      <!-- Fees -->
      <div class="chart-row">
        <div>
          <h2>PUMP — Price vs Fees</h2>
          <div class="toolbar" data-for="chart">
            <button class="on" data-range="ALL">All</button>
            <button data-range="3M">3M</button>
            <button data-range="1M">1M</button>
            <button data-range="1W">1W</button>
          </div>
          <canvas id="chart"></canvas>
        </div>
        <!-- ID must be exactly 'stats-chart' for script.js -->
        <aside class="statbox" id="stats-chart"></aside>
      </div>

      <!-- Revenue -->
      <div class="chart-row">
        <div>
          <h2>PUMP — Price vs Revenue</h2>
          <div class="toolbar" data-for="chart-revenue">
            <button class="on" data-range="ALL">All</button>
            <button data-range="3M">3M</button>
            <button data-range="1M">1M</button>
            <button data-range="1W">1W</button>
          </div>
          <canvas id="chart-revenue"></canvas>
        </div>
        <!-- ID must be exactly 'stats-chart-rev' for script.js -->
        <aside class="statbox" id="stats-chart-rev"></aside>
      </div>

      <!-- Buybacks -->
      <div class="chart-row">
        <div>
          <h2>PUMP — Price vs Buybacks (USD)</h2>
        <div class="toolbar" data-for="chart-buybacks">
            <button class="on" data-range="ALL">All</button>
            <button data-range="3M">3M</button>
            <button data-range="1M">1M</button>
            <button data-range="1W">1W</button>
          </div>
          <canvas id="chart-buybacks"></canvas>
        </div>
        <!-- ID must be exactly 'stats-chart-bb' for script.js -->
        <aside class="statbox" id="stats-chart-bb"></aside>
      </div>
    </section>

    <!-- DATs -->
    <section id="pane-dats" class="tabpane">
      <h2>DATs (placeholder)</h2>
      <p>DAT info will go here.</p>
    </section>

    <!-- HYPE -->
    <section id="pane-hype" class="tabpane">
      <h2>HYPE (placeholder)</h2>
      <p>All things HYPE will go here.</p>
    </section>

    <!-- Risk -->
    <section id="pane-risk" class="tabpane">
      <h2>Risk (placeholder)</h2>
      <p>XYZ.</p>
    </section>
  </div>

  <!-- Tab router -->
  <script>
    (function () {
      const links = Array.from(document.querySelectorAll('#tabs a'));
      const panes = {
        pump: document.getElementById('pane-pump'),
        dats: document.getElementById('pane-dats'),
        hype: document.getElementById('pane-hype'),
        risk: document.getElementById('pane-risk'),
      };
      function activate(name) {
        const target = name.toLowerCase();
        links.forEach(a => {
          const href = a.getAttribute('href').slice(1).toLowerCase();
          a.classList.toggle('active', href === target);
        });
        Object.entries(panes).forEach(([k, el]) => el.classList.toggle('active', k === target));
        if (target === 'pump' && window.__charts) {
          Object.values(window.__charts).forEach(obj => obj?.chart?.resize?.());
        }
      }
      function fromHash() {
        const h = (location.hash || '#pump').slice(1).toLowerCase();
        activate(panes[h] ? h : 'pump');
      }
      window.addEventListener('hashchange', fromHash);
      links.forEach(a => a.addEventListener('click', (e) => {
        e.preventDefault();
        location.hash = a.getAttribute('href');
      }));
      fromHash();
    })();
  </script>

  <!-- Charts + stats logic -->
  <script src="script.js"></script>
</body>
</html>
